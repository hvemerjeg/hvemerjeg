#!/bin/bash
#THIS IS A BASIC SUBDOMAIN ENUMERATION SCRIPT.
#It works not only for web browser accessible domains, but also for other protocols/services domains as smtp or ftp for example.
#It performs the discovery of the subdomain using the ICMP protocol.
#We use the -n flag to concatenate this line with the next one. The flag -n works similar as the end="" in python.
echo -n "Enter wordlist: " 
#Taking the input from the user.
read word_list
#Getting the content of the wordlist.
archivo=$(cat $word_list)
#ctrl_c
#Defining a function to exit the execution.
function ctrl_c { 
        exit 1
}

trap ctrl_c INT

echo -n "Enter the domain: "
read domain
#Iterating through the lines of the wordlist.
for line in $archivo 
do
         timeout 2 ping -c 1 $line\.$domain &>/dev/null && echo "[+] Subdomain Found --> $line" || &>/dev/null echo "[+] Subdomain do not exists or the ping is being blocked" 
#If the status code result of the ping is equal to 0, then we know the 
#subdomain exists.
done
