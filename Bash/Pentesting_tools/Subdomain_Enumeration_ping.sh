#!/bin/bash
#This script uses the ICMP protocol to determine if the subdomain exists.
#Sometimes a firewall on the host can block this ICMP letting unknown if the host does not exist or there is a firewall blocking ICMP echo request.
#We use the -n flag to concatenate this line with the next one. The flag -n works similar as the end="" in python.
echo -n "Enter wordlist: " 
#Taking the input from the user.
read word_list
#Getting the content of the wordlist.
archivo=$(cat $word_list)
#ctrl_c
#Defining a function to exit the execution.
function ctrl_c { 
        exit 1
}

trap ctrl_c INT

echo -n "Enter the domain: "
read domain; echo
#Iterating through the lines of the wordlist.
for line in $archivo 
do
        ping -W 1 -c 1 $line\.$domain &>/dev/null && echo -e "\033[1;32;40m[+] Subdomain Found --> $line\033[0m"
#If the status code result of the ping is equal to 0, the we know the 
#subdomain exists.
done
